"""
스폰서 필터링에 사용되는 상수 및 패턴 정의

모든 패턴과 가중치를 한 곳에서 관리하여 일관성을 유지합니다.
"""

# 협찬 관련 정규식 패턴 정의 (패턴과 가중치를 함께 관리)
SPONSOR_PATTERNS = {
    # 정규식 패턴: 가중치
    "(제공|지원)받아": 0.75,
    "(원고료|소정의).{0,10}(제공|지원)": 0.85,
    "(체험|방문).{0,10}후기": 0.7,
    "(업체|제품).{0,10}(제공|지원)": 0.8,
    "(무상|무료).{0,10}(제공|지원)": 0.8,
    "(협찬|스폰서).{0,10}(포스팅|후기)": 0.9,
    "업체.{0,15}(제공|지원)받아": 0.85,
    "업체.{0,15}후기": 0.7,
    "제품.{0,15}후기": 0.65,
    "(제공|지원).{0,5}받아.{0,10}후기": 0.8,
    # 유료 광고 관련 패턴 추가
    "(유료|paid).{0,5}광고": 0.95,
    "유료.{0,5}(포스팅|콘텐츠)": 0.9,
    "광고성.{0,5}(게시물|콘텐츠)": 0.9,
    "AD.{0,5}포함": 0.85,
    "광고.{0,5}포함": 0.85,
}

# 특수 케이스 패턴 (키워드 조합)
SPECIAL_CASE_PATTERNS = {
    "업체 + 지원/제공": 0.9,  # 매우 명확한 협찬 문구
    "후기 + 지원/제공": 0.8,  # 명확한 협찬 문구
    "광고 + 콘텐츠": 0.95,    # 명확한 유료 광고 문구
    "AD + 포스팅": 0.95,      # 명확한 유료 광고 문구
}

# 단일 키워드와 가중치
SPONSOR_KEYWORDS = {
    # 협찬 관련 키워드
    "협찬": 0.8,
    "체험단": 0.7,
    "지원": 0.7,
    "제공": 0.7,
    "무상": 0.7,
    "무료제공": 0.7,
    "원고료": 0.9,
    "소정의": 0.8,
    "제품제공": 0.8,
    # 유료 광고 관련 키워드
    "광고": 0.7,
    "유료광고": 0.9,
    "AD": 0.8,
    "Sponsored": 0.8,
    "PPL": 0.7,
}

# 협찬과 무관한 클래스 패턴 (제외할 패턴)
NON_SPONSOR_CLASS_PATTERNS = [
    r'buddy', r'loading', r'head', r'map', r'lazy'
]

# 스티커 도메인 패턴
STICKER_DOMAINS = [
    "storep-phinf.pstatic.net", 
    "post-phinf.pstatic.net",
    "ssl.pstatic.net",
    "cometoplay.kr"
]

# 스티커 클래스 패턴
STICKER_CLASSES = [
    "se-sticker", "sticker", "_img", "sponsor-tag", "ad-tag"
]

# 협찬 관련 클래스 패턴
SPONSOR_CLASS_PATTERNS = [
    r'sponsor', r'ad-tag', r'promotion', r'체험단', r'협찬', r'revu',
    r'advertisement', r'paid', r'ppl', r'ad-content'
]

# 패턴 유형별 가중치
PATTERN_TYPE_WEIGHTS = {
    "special_case": 0.7,  # 특수 케이스는 매우 높은 가중치
    "pattern": 0.5,       # 복잡한 패턴은 중간 가중치
    "keyword": 0.3        # 단일 키워드는 낮은 가중치
}

# 소스별 가중치
SOURCE_WEIGHTS = {
    "sticker_ocr": 0.85,  # 스티커 OCR은 매우 높은 가중치
    "description": 0.8,  # description은 매우 높은 가중치
    "html_element": 0.7,  # HTML 요소는 중간 가중치
    "text_content": 0.6,  # 일반 텍스트 내용은 낮은 가중치
    "unknown": 0.4        # 알 수 없는 소스는 매우 낮은 가중치
} 